# PyAI-Slayer Test Environment Configuration
# Copy this file to .env and fill in your actual values

# Environment Configuration
# Options: sandbox, staging, production (default: sandbox)
ENVIRONMENT=sandbox

# Application URLs
BASE_URL=https://<address_to_be_tested>
CHAT_URL=https://<address_to_be_tested>

# Authentication Credentials (if required)
EMAIL=your.email@example.com
PASSWORD=your_password_here

# Test Configuration
TEST_TIMEOUT=30
MAX_RETRIES=3
PARALLEL_WORKERS=4

# Browser Configuration
BROWSER=chromium
HEADLESS=true
BROWSER_TIMEOUT=30000

# AI/ML Model Configuration
SEMANTIC_MODEL_NAME=intfloat/multilingual-e5-base
ARABIC_SEMANTIC_MODEL_NAME=Omartificial-Intelligence-Space/mmbert-base-arabic-nli

# AI/ML Hardware Acceleration
# Set to true to use CUDA/GPU for ML model inference (requires CUDA-enabled GPU)
USE_CUDA=false

# Fact-Checker (Hallucination Detection) Configuration
# Primary model name (leave empty to use fallback list)
FACT_CHECKER_MODEL_NAME=
# Comma-separated list of fallback models (tried in order if primary fails)
FACT_CHECKER_FALLBACK_MODELS=microsoft/deberta-large-mnli,roberta-large-mnli,facebook/bart-large-mnli
# Enable/disable fact-checker
FACT_CHECKER_ENABLED=true
# Use CUDA/GPU for fact-checker (requires CUDA-enabled GPU)
FACT_CHECKER_USE_CUDA=true
# CUDA device ID (0 for first GPU, 1 for second, etc.)
FACT_CHECKER_CUDA_DEVICE=0
# Thresholds for fact-checker classification
FACT_CHECKER_STRONG_CONTRADICTION_THRESHOLD=0.7
FACT_CHECKER_STRONG_ENTAILMENT_THRESHOLD=0.7
FACT_CHECKER_WEAK_ENTAILMENT_THRESHOLD=0.5
FACT_CHECKER_NEUTRAL_THRESHOLD=0.8
FACT_CHECKER_NEUTRAL_RATIO_THRESHOLD=0.7

# RAG Reranker (Improved Relevance Scoring) Configuration
# Primary model name (leave empty to use fallback list)
RAG_RERANKER_MODEL_NAME=
# Comma-separated list of fallback models (tried in order if primary fails)
RAG_RERANKER_FALLBACK_MODELS=BAAI/bge-reranker-base,BAAI/bge-reranker-large,ms-marco-MiniLM-L-12-v2
# Enable/disable reranker
RAG_RERANKER_ENABLED=true
# Use CUDA/GPU for reranker (requires CUDA-enabled GPU)
RAG_RERANKER_USE_CUDA=true
# CUDA device ID (0 for first GPU, 1 for second, etc.)
RAG_RERANKER_CUDA_DEVICE=0

# RAG URL Content Fetching (Improves Reranker Accuracy)
# Enable/disable fetching content from URLs for reranker scoring
# When enabled, URLs are fetched in parallel and their content is used for scoring
RAG_FETCH_URL_CONTENT=true
# Timeout in seconds for each URL fetch request
RAG_URL_FETCH_TIMEOUT=10
# Maximum content length to fetch per URL (in characters)
RAG_URL_MAX_CONTENT_LENGTH=10000
# Maximum number of retry attempts per URL if fetch fails
RAG_URL_MAX_RETRIES=3
# Delay between retries in seconds (exponential backoff: 1s, 2s, 4s)
RAG_URL_RETRY_DELAY=1.0
# Maximum number of parallel workers for URL fetching (improves speed)
RAG_URL_MAX_WORKERS=5

# RAG Metric Targets (Optional - overrides calibration file if set)
# Leave empty to use calibration recommendations from data/rag_calibration_recommendations.json
# If any target is set, it will override the calibration file for that metric
RAG_TARGET_RETRIEVAL_RECALL_5=
RAG_TARGET_RETRIEVAL_PRECISION_5=
RAG_TARGET_CONTEXT_RELEVANCE=
RAG_TARGET_CONTEXT_COVERAGE=
RAG_TARGET_CONTEXT_INTRUSION=
RAG_TARGET_GOLD_CONTEXT_MATCH=
RAG_TARGET_RERANKER_SCORE=

# Validation Thresholds
SEMANTIC_SIMILARITY_THRESHOLD=0.7
ARABIC_SEMANTIC_SIMILARITY_THRESHOLD=0.5
HALLUCINATION_DETECTION_THRESHOLD=0.3
CROSS_LANGUAGE_CONSISTENCY_THRESHOLD=0.7
CONSISTENCY_THRESHOLD=0.6
MIN_RESPONSE_LENGTH=10
MAX_RESPONSE_TIME_SECONDS=180

# Reporting
GENERATE_ALLURE_REPORT=true
REPORT_DIR=reports

# Security Testing
ENABLE_SECURITY_TESTS=true
ZAP_PROXY_URL=http://localhost:8080

# Localization
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,ar

# Chatbot Configuration
CHATBOT_NAME=ChatBot


# Observability & Tracing
ENABLE_PLAYWRIGHT_TRACING=true
ENABLE_PROMETHEUS_METRICS=false
PROMETHEUS_PORT=8000
TRACE_DIR=traces
